{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nimport lib from \"@/scripts/lib\";\nimport { reactive } from 'vue';\nexport default {\n  setup() {\n    const state = reactive({\n      orders: []\n    });\n    axios.get(\"/api/orders\").then(({\n      data\n    }) => {\n      state.orders = [];\n      //만약 axios.get 호출 전에 state.orders에 데이터가 이미 들어있는 상태라면(어떤 이유로든), \n      // state.orders = [];를 통해 기존 데이터를 초기화하지 않으면 이전 데이터가 새로운 데이터와 섞일 위험이 있습니다.\n\n      for (let object of data) {\n        //**data는 배열, 배열에서 객체를 꺼내 json문자열을 객체로 변환뒤 다시 state.orders배열 안에 꺼낸 객체를 집어넣는 과정이다.\n        //***items속성이 JSON 문자열이기 때문에 변환과정이 필요, Home.vue의 데이터 처리방식과 차이점!!\n        //json은 키에 해당하는 것이 \"\"로 감싸져 있는데 이것을 제거하는 작업이 자바스크립트 객체로 만드는 parse변환 과정이다.\n\n        if (object.items) {\n          //object안에 items가 있다면\n          object.items = JSON.parse(object.items); //items속성이 JSON 문자열이기 때문에 JavaScript 객체(혹은 배열)로 변환하고 다시 덮어씁니다\n        }\n        state.orders.push(object); //push는 JavaScript 배열 메서드로 배열의 끝에 하나 이상의 요소를 추가하는 데 사용\n      } //for\n    }); //axios\n\n    return {\n      state,\n      lib\n    };\n  }\n};","map":{"version":3,"names":["axios","lib","reactive","setup","state","orders","get","then","data","object","items","JSON","parse","push"],"sources":["/Users/axis/MacBookStore/ComStudy/Vue/Vue3-GalleryMall-V1/src/pages/Orders.vue"],"sourcesContent":["//  주문을 하고 결제한 내역을 보여주는 페이지\n<template>\n    <div class=\"orders\"> <!-- 여기 수정  -->\n<!-- 아래하단 부터 https://getbootstrap.com/docs/5.0/examples/checkout/에서 소스보기 한 것을 복사해서 붙여넣기 -->\n      <div class=\"container\">   \n       \n       <table class=\"table table-bordered\">\n        <thead>\n          <tr>\n            <th>번호</th>\n            <th>주문자명</th>\n            <th>주소</th>\n            <th>결제수단</th>\n            <th>구입항목</th>\n            <th>주문날짜</th>\n           </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"(order, index1) in state.orders\" :key=\"index1\">\n              <td>{{ state.orders.length-index1 }} </td>\n              <td>{{ order.name }}</td>\n              <td>{{ order.address}}</td>\n              <td>{{ order.payment }}</td>\n              <td>\n                <div v-for=\"(item, index2) in order.items\" :key=\"index2\">{{item.name }}</div>\n                <!-- v-for 디렉티브를 중첩하여 사용할 때, 상위 v-for에서 가져온 데이터를 하위 v-for에서 활용할 수 있다 -->\n                <!--order.items -> [{ \"id\": 2, \"name\": \"Van-gogh\", \"imgPath\": \"/img/van-gogh.jpg\", \"price\": 4500000, \"discountPrice\": 20 } ] -->\n              </td>\n              <!-- $$내가 추가 한것 -->\n              <td v-if=\"order.orderDate\">{{ order.orderDate.split('T').join('-') }}</td>\n              <td v-else>주문날짜 없음</td>\n            \n            </tr>\n          </tbody>\n       </table>\n      </div>  <!-- container -->\n     </div>\n</template>\n\n<script>\n\nimport axios from 'axios';\nimport lib from \"@/scripts/lib\";\nimport { reactive } from 'vue';\n\n  export default{\n    setup(){\n      const state=reactive({\n          orders:[],\n      })\n      \n      axios.get(\"/api/orders\").then(({data}) => {\n      \n      state.orders=[];\n     //만약 axios.get 호출 전에 state.orders에 데이터가 이미 들어있는 상태라면(어떤 이유로든), \n     // state.orders = [];를 통해 기존 데이터를 초기화하지 않으면 이전 데이터가 새로운 데이터와 섞일 위험이 있습니다.\n\n      for(let object of data){   \n        //**data는 배열, 배열에서 객체를 꺼내 json문자열을 객체로 변환뒤 다시 state.orders배열 안에 꺼낸 객체를 집어넣는 과정이다.\n        //***items속성이 JSON 문자열이기 때문에 변환과정이 필요, Home.vue의 데이터 처리방식과 차이점!!\n        //json은 키에 해당하는 것이 \"\"로 감싸져 있는데 이것을 제거하는 작업이 자바스크립트 객체로 만드는 parse변환 과정이다.\n        \n        if(object.items){   //object안에 items가 있다면\n          object.items=JSON.parse(object.items);  //items속성이 JSON 문자열이기 때문에 JavaScript 객체(혹은 배열)로 변환하고 다시 덮어씁니다\n        }\n        state.orders.push(object);  //push는 JavaScript 배열 메서드로 배열의 끝에 하나 이상의 요소를 추가하는 데 사용\n      }//for\n     })//axios\n      \n    return {state, lib }\n    }\n  }\n\n</script>\n\n<style scoped>\n.table{\n  margin-top: 30px;\n}\n\n.table > tbody{\n  border-top: 1px solid #eee;\n}\n</style>"],"mappings":";AAyCA,OAAOA,KAAI,MAAO,OAAO;AACzB,OAAOC,GAAE,MAAO,eAAe;AAC/B,SAASC,QAAO,QAAS,KAAK;AAE5B,eAAc;EACZC,KAAKA,CAAA,EAAE;IACL,MAAMC,KAAK,GAACF,QAAQ,CAAC;MACjBG,MAAM,EAAC;IACX,CAAC;IAEDL,KAAK,CAACM,GAAG,CAAC,aAAa,CAAC,CAACC,IAAI,CAAC,CAAC;MAACC;IAAI,CAAC,KAAK;MAE1CJ,KAAK,CAACC,MAAM,GAAC,EAAE;MAChB;MACA;;MAEC,KAAI,IAAII,MAAK,IAAKD,IAAI,EAAC;QACrB;QACA;QACA;;QAEA,IAAGC,MAAM,CAACC,KAAK,EAAC;UAAI;UAClBD,MAAM,CAACC,KAAK,GAACC,IAAI,CAACC,KAAK,CAACH,MAAM,CAACC,KAAK,CAAC,EAAG;QAC1C;QACAN,KAAK,CAACC,MAAM,CAACQ,IAAI,CAACJ,MAAM,CAAC,EAAG;MAC9B,CAAC;IACF,CAAC,CAAC;;IAEH,OAAO;MAACL,KAAK;MAAEH;IAAI;EACnB;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}