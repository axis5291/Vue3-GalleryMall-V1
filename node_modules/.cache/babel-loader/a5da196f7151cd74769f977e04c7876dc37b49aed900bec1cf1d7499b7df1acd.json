{"ast":null,"code":"import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"cart\"\n};\nconst _hoisted_2 = {\n  class: \"container\"\n};\nconst _hoisted_3 = [\"src\"];\nconst _hoisted_4 = {\n  class: \"name\"\n};\nconst _hoisted_5 = {\n  class: \"price ms-3\"\n};\nconst _hoisted_6 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"ul\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.state.items, (item, index) => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: index,\n      class: \"d-flex align-items-center\"\n    }, [_createElementVNode(\"img\", {\n      src: item.imgPath,\n      class: \"me-3\",\n      style: {\n        \"cursor\": \"pointer\"\n      }\n    }, null, 8 /* PROPS */, _hoisted_3), _createElementVNode(\"span\", _hoisted_4, \"제목:\" + _toDisplayString(item.name), 1 /* TEXT */), _createElementVNode(\"span\", _hoisted_5, \" 할인가:₩\" + _toDisplayString($setup.lib.getCommaFormated(item.price - item.price * item.discountPrice / 100)), 1 /* TEXT */), _createElementVNode(\"i\", {\n      class: \"fa fa-trash ms-auto text-danger fs-6\",\n      style: {\n        \"cursor\": \"pointer\"\n      },\n      onClick: $event => $setup.remove(item.id)\n    }, \" 삭제\", 8 /* PROPS */, _hoisted_6), _createCommentVNode(\" 쓰레기통 모양 \")]);\n  }), 128 /* KEYED_FRAGMENT */))]), _createVNode(_component_router_link, {\n    to: \"/order\",\n    class: \"btn btn-primary\"\n  }, {\n    default: _withCtx(() => _cache[0] || (_cache[0] = [_createTextVNode(\"구입하기\")])),\n    _: 1 /* STABLE */\n  }), _createCommentVNode(\" 클릭하면 /order로 이동 \")])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_Fragment","_renderList","$setup","state","items","item","index","key","src","imgPath","style","_hoisted_3","_hoisted_4","_toDisplayString","name","_hoisted_5","lib","getCommaFormated","price","discountPrice","onClick","$event","remove","id","_hoisted_6","_createCommentVNode","_createVNode","_component_router_link","to","default","_withCtx","_cache","_createTextVNode","_"],"sources":["/Users/axis/MacBookStore/ComStudy/Vue/Vue3-GalleryMall-V1/src/pages/Cart.vue"],"sourcesContent":["<template>\n    <div class=\"cart\">\n      <div class=\"container\">\n        <ul>\n          <li v-for=\"(item, index) in state.items\" :key=\"index\"  class=\"d-flex align-items-center\">\n            <img :src=\"item.imgPath\"  class=\"me-3\" style=\"cursor: pointer;\" />\n            <span class=\"name\">제목:{{ item.name }}</span>\n            <span class=\"price ms-3\"> 할인가:₩{{ lib.getCommaFormated(item.price -(item.price*item.discountPrice/100)) }}</span>\n            <i class=\"fa fa-trash ms-auto text-danger fs-6\" style=\"cursor: pointer;\" @click=\"remove(item.id)\"> 삭제</i>  <!-- 쓰레기통 모양 -->\n          </li>\n        </ul>\n        <router-link to=\"/order\" class=\"btn btn-primary\">구입하기</router-link>\n        <!-- 클릭하면 /order로 이동 -->\n      </div>\n     </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport lib from \"@/scripts/lib\";\nimport { reactive } from 'vue';\n\nexport default{\n    setup(){\n      const state=reactive({\n          items:[]\n      });\n\n      const load=()=>{\n        axios.get(\"/api/cart/items\").then((res)=>{\n        console.log(\"cart에서 꺼내보기:\", res.data);  //+를 시용하면 객체를 문자열로 변환하여 출력 [object Object]\n        state.items=res.data;\n       })\n      };\n\n      load(); //컴포넌트가 생성될 때 한번만 실행\n\n      const remove=(itemId)=>{\n        axios.delete(`/api/cart/items/${itemId}`).then(()=>{\n          load();\n          console.log(itemId+\"번 itemId:\"+\"장바구니에서 삭제 성공\");\n        })\n      };\n\n      return {state, lib, remove}\n    }\n} \n</script>\n\n<style scoped>\n.cart ul {\n  list-style:none;\n  margin: 0;\n  padding: 0;\n}\n\n.cart ul li{\n  border:1px solid #eee;\n  margin-top: 25px;\n  margin-bottom: 25px;\n}\n\n.cart ul li img {\n  width: 150px;\n  height: 150px;\n}\n\n.cart ul li .name{\n  margin-left: 25px;\n}\n\n.cart ul li .price {\n  margin-left: 25px;\n}\n\n.cart ul li i {\n  float: right;\n  font-size: 20px;\n  margin-right: 50px;\n  margin-top: 60;\n}\n\n.cart .btn{\n  width: 300px;\n  display: block;\n  margin: 0 auto;\n  padding:30px 50px;\n  font-size: 20px;\n}\n</style>\n\n\n\n\n\n\n\n"],"mappings":";;EACSA,KAAK,EAAC;AAAM;;EACVA,KAAK,EAAC;AAAW;mBAF5B;;EAMkBA,KAAK,EAAC;AAAM;;EACZA,KAAK,EAAC;AAAY;mBAPpC;;;uBACIC,mBAAA,CAaO,OAbPC,UAaO,GAZLC,mBAAA,CAWM,OAXNC,UAWM,GAVJD,mBAAA,CAOK,c,kBANHF,mBAAA,CAKKI,SAAA,QATfC,WAAA,CAIsCC,MAAA,CAAAC,KAAK,CAACC,KAAK,EAJjD,CAIsBC,IAAI,EAAEC,KAAK;yBAAvBV,mBAAA,CAKK;MALqCW,GAAG,EAAED,KAAK;MAAGX,KAAK,EAAC;QAC3DG,mBAAA,CAAkE;MAA5DU,GAAG,EAAEH,IAAI,CAACI,OAAO;MAAGd,KAAK,EAAC,MAAM;MAACe,KAAwB,EAAxB;QAAA;MAAA;4BALnDC,UAAA,GAMYb,mBAAA,CAA4C,QAA5Cc,UAA4C,EAAzB,KAAG,GAAAC,gBAAA,CAAGR,IAAI,CAACS,IAAI,kBAClChB,mBAAA,CAAiH,QAAjHiB,UAAiH,EAAxF,QAAM,GAAAF,gBAAA,CAAGX,MAAA,CAAAc,GAAG,CAACC,gBAAgB,CAACZ,IAAI,CAACa,KAAK,GAAGb,IAAI,CAACa,KAAK,GAACb,IAAI,CAACc,aAAa,yBACjGrB,mBAAA,CAAyG;MAAtGH,KAAK,EAAC,sCAAsC;MAACe,KAAwB,EAAxB;QAAA;MAAA,CAAwB;MAAEU,OAAK,EAAAC,MAAA,IAAEnB,MAAA,CAAAoB,MAAM,CAACjB,IAAI,CAACkB,EAAE;OAAG,KAAG,iBARjHC,UAAA,GAQuHC,mBAAA,aAAgB,C;oCAG/HC,YAAA,CAAmEC,sBAAA;IAAtDC,EAAE,EAAC,QAAQ;IAACjC,KAAK,EAAC;;IAXvCkC,OAAA,EAAAC,QAAA,CAWyD,MAAIC,MAAA,QAAAA,MAAA,OAX7DC,gBAAA,CAWyD,MAAI,E;IAX7DC,CAAA;MAYQR,mBAAA,qBAAwB,C","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}