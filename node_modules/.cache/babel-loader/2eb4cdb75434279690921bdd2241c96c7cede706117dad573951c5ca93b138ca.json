{"ast":null,"code":"import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"cart\"\n};\nconst _hoisted_2 = {\n  class: \"container\"\n};\nconst _hoisted_3 = [\"src\"];\nconst _hoisted_4 = {\n  class: \"name\"\n};\nconst _hoisted_5 = {\n  class: \"price ms-3\"\n};\nconst _hoisted_6 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"ul\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.state.items, (item, index) => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: index,\n      class: \"d-flex align-items-center\"\n    }, [_createElementVNode(\"img\", {\n      src: item.imgPath,\n      class: \"me-3\",\n      style: {\n        \"cursor\": \"pointer\"\n      }\n    }, null, 8 /* PROPS */, _hoisted_3), _createElementVNode(\"span\", _hoisted_4, \"제목:\" + _toDisplayString(item.name), 1 /* TEXT */), _createElementVNode(\"span\", _hoisted_5, \" 할인가:₩\" + _toDisplayString($setup.lib.getCommaFormated(item.price - item.price * item.discountPrice / 100)), 1 /* TEXT */), _createElementVNode(\"i\", {\n      class: \"fa fa-trash ms-auto text-danger fs-6\",\n      style: {\n        \"cursor\": \"pointer\"\n      },\n      onClick: $event => $setup.remove(item.id)\n    }, \" 삭제\", 8 /* PROPS */, _hoisted_6), _createCommentVNode(\" 쓰레기통 모양 \")]);\n  }), 128 /* KEYED_FRAGMENT */))]), _createVNode(_component_router_link, {\n    to: \"/order\",\n    class: \"btn btn-primary\"\n  }, {\n    default: _withCtx(() => _cache[0] || (_cache[0] = [_createTextVNode(\"구입하기\")])),\n    _: 1 /* STABLE */\n  }), _createCommentVNode(\" 클릭하면 /order로 이동 \")])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_Fragment","_renderList","$setup","state","items","item","index","key","src","imgPath","style","_hoisted_3","_hoisted_4","_toDisplayString","name","_hoisted_5","lib","getCommaFormated","price","discountPrice","onClick","$event","remove","id","_hoisted_6","_createCommentVNode","_createVNode","_component_router_link","to","default","_withCtx","_cache","_createTextVNode","_"],"sources":["E:\\Program Study\\Vue3\\Vue3-GalleryMall-V1\\src\\pages\\Cart.vue"],"sourcesContent":["<template>\r\n    <div class=\"cart\">\r\n      <div class=\"container\">\r\n        <ul>\r\n          <li v-for=\"(item, index) in state.items\" :key=\"index\"  class=\"d-flex align-items-center\">\r\n            <img :src=\"item.imgPath\"  class=\"me-3\" style=\"cursor: pointer;\" />\r\n            <span class=\"name\">제목:{{ item.name }}</span>\r\n            <span class=\"price ms-3\"> 할인가:₩{{ lib.getCommaFormated(item.price -(item.price*item.discountPrice/100)) }}</span>\r\n            <i class=\"fa fa-trash ms-auto text-danger fs-6\" style=\"cursor: pointer;\" @click=\"remove(item.id)\"> 삭제</i>  <!-- 쓰레기통 모양 -->\r\n          </li>\r\n        </ul>\r\n        <router-link to=\"/order\" class=\"btn btn-primary\">구입하기</router-link>\r\n        <!-- 클릭하면 /order로 이동 -->\r\n      </div>\r\n     </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport lib from \"@/scripts/lib\";\r\nimport { reactive } from 'vue';\r\n\r\nexport default{\r\n    setup(){\r\n      const state=reactive({\r\n          items:[]\r\n      });\r\n\r\n      const load=()=>{\r\n        axios.get(\"/api/cart/items\").then((res)=>{\r\n        console.log(\"cart에서 꺼내보기:\", res.data);  //+를 시용하면 객체를 문자열로 변환하여 출력 [object Object]\r\n        state.items=res.data;\r\n       })\r\n      };\r\n\r\n      load(); //컴포넌트가 생성될 때 한번만 실행\r\n\r\n      const remove=(itemId)=>{\r\n        axios.delete(`/api/cart/items/${itemId}`).then(()=>{\r\n          load();\r\n          console.log(itemId+\"번 itemId:\"+\"장바구니에서 삭제 성공\");\r\n        })\r\n      };\r\n\r\n      return {state, lib, remove}\r\n    }\r\n} \r\n</script>\r\n\r\n<style scoped>\r\n.cart ul {\r\n  list-style:none;\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n\r\n.cart ul li{\r\n  border:1px solid #eee;\r\n  margin-top: 25px;\r\n  margin-bottom: 25px;\r\n}\r\n\r\n.cart ul li img {\r\n  width: 150px;\r\n  height: 150px;\r\n}\r\n\r\n.cart ul li .name{\r\n  margin-left: 25px;\r\n}\r\n\r\n.cart ul li .price {\r\n  margin-left: 25px;\r\n}\r\n\r\n.cart ul li i {\r\n  float: right;\r\n  font-size: 20px;\r\n  margin-right: 50px;\r\n  margin-top: 60;\r\n}\r\n\r\n.cart .btn{\r\n  width: 300px;\r\n  display: block;\r\n  margin: 0 auto;\r\n  padding:30px 50px;\r\n  font-size: 20px;\r\n}\r\n</style>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"mappings":";;EACSA,KAAK,EAAC;AAAM;;EACVA,KAAK,EAAC;AAAW;mBAF5B;;EAMkBA,KAAK,EAAC;AAAM;;EACZA,KAAK,EAAC;AAAY;mBAPpC;;;uBACIC,mBAAA,CAaO,OAbPC,UAaO,GAZLC,mBAAA,CAWM,OAXNC,UAWM,GAVJD,mBAAA,CAOK,c,kBANHF,mBAAA,CAKKI,SAAA,QATfC,WAAA,CAIsCC,MAAA,CAAAC,KAAK,CAACC,KAAK,EAJjD,CAIsBC,IAAI,EAAEC,KAAK;yBAAvBV,mBAAA,CAKK;MALqCW,GAAG,EAAED,KAAK;MAAGX,KAAK,EAAC;QAC3DG,mBAAA,CAAkE;MAA5DU,GAAG,EAAEH,IAAI,CAACI,OAAO;MAAGd,KAAK,EAAC,MAAM;MAACe,KAAwB,EAAxB;QAAA;MAAA;4BALnDC,UAAA,GAMYb,mBAAA,CAA4C,QAA5Cc,UAA4C,EAAzB,KAAG,GAAAC,gBAAA,CAAGR,IAAI,CAACS,IAAI,kBAClChB,mBAAA,CAAiH,QAAjHiB,UAAiH,EAAxF,QAAM,GAAAF,gBAAA,CAAGX,MAAA,CAAAc,GAAG,CAACC,gBAAgB,CAACZ,IAAI,CAACa,KAAK,GAAGb,IAAI,CAACa,KAAK,GAACb,IAAI,CAACc,aAAa,yBACjGrB,mBAAA,CAAyG;MAAtGH,KAAK,EAAC,sCAAsC;MAACe,KAAwB,EAAxB;QAAA;MAAA,CAAwB;MAAEU,OAAK,EAAAC,MAAA,IAAEnB,MAAA,CAAAoB,MAAM,CAACjB,IAAI,CAACkB,EAAE;OAAG,KAAG,iBARjHC,UAAA,GAQuHC,mBAAA,aAAgB,C;oCAG/HC,YAAA,CAAmEC,sBAAA;IAAtDC,EAAE,EAAC,QAAQ;IAACjC,KAAK,EAAC;;IAXvCkC,OAAA,EAAAC,QAAA,CAWyD,MAAIC,MAAA,QAAAA,MAAA,OAX7DC,gBAAA,CAWyD,MAAI,E;IAX7DC,CAAA;MAYQR,mBAAA,qBAAwB,C","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}