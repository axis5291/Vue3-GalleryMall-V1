{"ast":null,"code":"import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createCommentVNode as _createCommentVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, Fragment as _Fragment } from \"vue\";\nconst _hoisted_1 = {\n  \"data-bs-theme\": \"dark\"\n};\nconst _hoisted_2 = {\n  class: \"collapse text-bg-dark\",\n  id: \"navbarHeader\"\n};\nconst _hoisted_3 = {\n  class: \"container\"\n};\nconst _hoisted_4 = {\n  class: \"row\"\n};\nconst _hoisted_5 = {\n  class: \"col-sm-4 py-4\"\n};\nconst _hoisted_6 = {\n  class: \"list-unstyled\"\n};\nconst _hoisted_7 = {\n  key: 0\n};\nconst _hoisted_8 = {\n  class: \"navbar navbar-dark bg-dark shadow-sm\"\n};\nconst _hoisted_9 = {\n  class: \"container\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"header\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_cache[4] || (_cache[4] = _createElementVNode(\"h4\", null, \"사이트맵\", -1 /* HOISTED */)), _createElementVNode(\"ul\", _hoisted_6, [_createElementVNode(\"li\", null, [_createVNode(_component_router_link, {\n    to: \"/\",\n    class: \"text-white\"\n  }, {\n    default: _withCtx(() => _cache[1] || (_cache[1] = [_createTextVNode(\"메인 화면\")])),\n    _: 1 /* STABLE */\n  })]), _ctx.$store.state.account.id ? (_openBlock(), _createElementBlock(\"li\", _hoisted_7, [_createCommentVNode(\" 사용자가 로그인을 하였다면 /orders페이지로 이동 처리 \"), _createVNode(_component_router_link, {\n    to: \"/orders\",\n    class: \"text-white\"\n  }, {\n    default: _withCtx(() => _cache[2] || (_cache[2] = [_createTextVNode(\"주문 내역\")])),\n    _: 1 /* STABLE */\n  })])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"li\", null, [!_ctx.$store.state.account.id ? (_openBlock(), _createBlock(_component_router_link, {\n    key: 0,\n    to: \"/login\",\n    class: \"text-white\"\n  }, {\n    default: _withCtx(() => _cache[3] || (_cache[3] = [_createTextVNode(\"로그인\")])),\n    _: 1 /* STABLE */\n  })) : (_openBlock(), _createElementBlock(_Fragment, {\n    key: 1\n  }, [_createCommentVNode(\" !$store.state.account.id가 없으면 로그인이 보이고 있으면 로그아웃이 보인다. \"), _createElementVNode(\"a\", {\n    to: \"/login\",\n    class: \"text-white\",\n    onClick: _cache[0] || (_cache[0] = $event => $setup.logout())\n  }, \"로그아웃\")], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))]), _createCommentVNode(\" <router-link>:Vue Router 라이브러리가 제공하는 컴포넌트(<a> 태그와 유사하게 동작), \\r\\n     페이지를 새로 고침하지 않고 URL을 변경하며, 라우트와 연결된 컴포넌트를 표시,  to=\\\"/\\\"는 라우터에서 정의된 루트 경로로 이동\\r\\n     $는 Vue가 기본적으로 제공하는 객체나 메서드라는 것을 명시적 표기법. 사용자가 정의한 변수나 메서드와 구분역할. 뷰에서 제대로 동작않 할 수도 있음\\r\\n     \")])])])])]), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"div\", _hoisted_9, [_createVNode(_component_router_link, {\n    to: \"/\",\n    class: \"navbar-brand d-flex align-items-center\"\n  }, {\n    default: _withCtx(() => _cache[5] || (_cache[5] = [_createElementVNode(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      width: \"20\",\n      height: \"20\",\n      fill: \"none\",\n      stroke: \"currentColor\",\n      \"stroke-linecap\": \"round\",\n      \"stroke-linejoin\": \"round\",\n      \"stroke-width\": \"2\",\n      \"aria-hidden\": \"true\",\n      class: \"me-2\",\n      viewBox: \"0 0 24 24\"\n    }, [_createElementVNode(\"path\", {\n      d: \"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z\"\n    }), _createElementVNode(\"circle\", {\n      cx: \"12\",\n      cy: \"13\",\n      r: \"4\"\n    })], -1 /* HOISTED */), _createElementVNode(\"strong\", null, \"Gallery\", -1 /* HOISTED */)])),\n    _: 1 /* STABLE */\n  }), _ctx.$store.state.account.id ? (_openBlock(), _createBlock(_component_router_link, {\n    key: 0,\n    to: \"/cart\",\n    class: \"cart btn\"\n  }, {\n    default: _withCtx(() => [_createCommentVNode(\" 로그인으르 했을 때만 카트를 보여주기 \"), _cache[6] || (_cache[6] = _createElementVNode(\"i\", {\n      class: \"fa fa-shopping-cart\",\n      \"aria-hidden\": \"true\"\n    }, null, -1 /* HOISTED */)), _createCommentVNode(\" https://fontawesome.com/v4/icon/shopping-cart 에서 복사함 \")]),\n    _: 1 /* STABLE */\n  })) : _createCommentVNode(\"v-if\", true), _cache[7] || (_cache[7] = _createElementVNode(\"button\", {\n    class: \"navbar-toggler\",\n    type: \"button\",\n    \"data-bs-toggle\": \"collapse\",\n    \"data-bs-target\": \"#navbarHeader\",\n    \"aria-controls\": \"navbarHeader\",\n    \"aria-expanded\": \"false\",\n    \"aria-label\": \"Toggle navigation\"\n  }, [_createElementVNode(\"span\", {\n    class: \"navbar-toggler-icon\"\n  })], -1 /* HOISTED */))])])]);\n}","map":{"version":3,"names":["class","id","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_createVNode","_component_router_link","to","default","_withCtx","_cache","_createTextVNode","_","_ctx","$store","state","account","_hoisted_7","_createCommentVNode","_createBlock","_Fragment","onClick","$event","$setup","logout","_hoisted_8","_hoisted_9","xmlns","width","height","fill","stroke","viewBox","d","cx","cy","r","type"],"sources":["E:\\Program Study\\Vue3\\Vue3-GalleryMall-V1\\src\\components\\Header.vue"],"sourcesContent":["<template>\r\n  \r\n  <header data-bs-theme=\"dark\">\r\n  <div class=\"collapse text-bg-dark\" id=\"navbarHeader\">\r\n    <div class=\"container\">\r\n      <div class=\"row\">\r\n        \r\n        <div class=\"col-sm-4  py-4\">\r\n          <h4>사이트맵</h4>\r\n          <ul class=\"list-unstyled\">\r\n              <li>\r\n                <router-link to=\"/\" class=\"text-white\">메인 화면</router-link>                \r\n              </li>\r\n\r\n              <li v-if=\"$store.state.account.id\">   <!-- 사용자가 로그인을 하였다면 /orders페이지로 이동 처리 -->\r\n                 <router-link to=\"/orders\" class=\"text-white\">주문 내역</router-link>                \r\n              </li>\r\n\r\n              <li>\r\n                <router-link to=\"/login\" class=\"text-white\" v-if=\"!$store.state.account.id\">로그인</router-link>\r\n                <!-- !$store.state.account.id가 없으면 로그인이 보이고 있으면 로그아웃이 보인다. -->\r\n                <a to=\"/login\" class=\"text-white\" @click=\"logout()\" v-else>로그아웃</a>                  \r\n              </li>\r\n<!-- <router-link>:Vue Router 라이브러리가 제공하는 컴포넌트(<a> 태그와 유사하게 동작), \r\n     페이지를 새로 고침하지 않고 URL을 변경하며, 라우트와 연결된 컴포넌트를 표시,  to=\"/\"는 라우터에서 정의된 루트 경로로 이동\r\n     $는 Vue가 기본적으로 제공하는 객체나 메서드라는 것을 명시적 표기법. 사용자가 정의한 변수나 메서드와 구분역할. 뷰에서 제대로 동작않 할 수도 있음\r\n     -->\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"navbar navbar-dark bg-dark shadow-sm\">\r\n    <div class=\"container\">\r\n      <router-link to=\"/\" class=\"navbar-brand d-flex align-items-center\">\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" aria-hidden=\"true\" class=\"me-2\" viewBox=\"0 0 24 24\"><path d=\"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z\"/><circle cx=\"12\" cy=\"13\" r=\"4\"/></svg>\r\n        <strong>Gallery</strong>\r\n      </router-link>\r\n      \r\n      <router-link to=\"/cart\" class=\"cart btn\" v-if=\"$store.state.account.id\"> <!-- 로그인으르 했을 때만 카트를 보여주기 -->\r\n        <i class=\"fa fa-shopping-cart\" aria-hidden=\"true\"></i>  <!-- https://fontawesome.com/v4/icon/shopping-cart 에서 복사함 -->\r\n      </router-link>\r\n      <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarHeader\" aria-controls=\"navbarHeader\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n        <span class=\"navbar-toggler-icon\"></span>\r\n      </button>\r\n    </div>\r\n  </div>\r\n</header>\r\n\r\n</template>\r\n\r\n<script>\r\nimport router from '@/scripts/router';   //해당 스크립트에서 export한 명칭을 import문에 사용한다.\r\nimport store from '@/scripts/store';\r\nimport axios from 'axios';\r\n\r\nexport default{\r\n  name:'HeaderComponent',\r\n\r\n  setup(){\r\n    const logout=()=>{\r\n        axios.post(\"/api/account/logout\").then((res)=>{\r\n        store.commit('setAccount', 0);  // 로그아웃시  Vuex 상태 초기화, store.js의 setAccount에 0을 넘겨줌\r\n        alert(res.data);\r\n        router.push({path:'/'});        // 로그아웃이후 메인페이지로 이동\r\n        //sessionStorage.removeItem(\"id\"); //세션 스토리지에서 사용자 ID삭제 - 현재는 Vuex로 상태를 관리하므로 비활성화\r\n        //새로고침을 할 경우 다시 sessionStorage에서 id를 가져오는 로직이 없으므로 sessionStorage.removeItem(\"id\")을 생략해도 무방\r\n        //하지만 보안을 위해서 추가하는 것이 합당\r\n        console.log(\"HTTP 상태 코드:\", res.status);       // 200\r\n        console.log(\"상태 텍스트:\", res.statusText);      // \"OK\"\r\n        console.log(\"응답 데이터:\", res.data);  \r\n        \r\n      });\r\n    }\r\n    return{logout}\r\n  }\r\n// 로그아웃  완벽 처리->프론트엔드(Vue)와 백엔드(Spring) 양쪽에서 처리.\r\n//1.백엔드(Spring):서버에 남아 있는 인증 정보를 삭제해야 하며, 보통 쿠키를 활용하여 처리. \r\n//               예를 들어, 쿠키의 값을 비우거나 만료시켜 클라이언트가 더 이상 인증 정보를 보낼 수 없도록 한다.\r\n//2.프론트엔드(Vue):백엔드에서 인증 정보가 삭제된 후, 클라이언트 측에서도 Vuex 상태를 초기화하고, \r\n//               필요한 경우 리다이렉션(예: 메인 페이지 이동)을 처리한다.\r\n   \r\n}\r\n</script>\r\n\r\n<style scoped>\r\nheader ul li a {\r\n  cursor: pointer;    /* 포인터 지정:테두리를 그린다. */\r\n}\r\n\r\nheader .navbar .cart{\r\n  margin-left:auto;    /* cart를 오른쪽으로 이동 */\r\n  color: white;\r\n}\r\n</style>\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}