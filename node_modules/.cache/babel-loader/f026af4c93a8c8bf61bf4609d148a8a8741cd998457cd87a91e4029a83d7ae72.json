{"ast":null,"code":"import axios from 'axios';\nimport lib from \"@/scripts/lib\";\nimport { reactive } from 'vue';\nexport default {\n  setup() {\n    const state = reactive({\n      items: []\n    });\n    const load = () => {\n      axios.get(\"/api/cart/items\").then(res => {\n        console.log(\"cart에서 꺼내보기:\", res.data); //+를 시용하면 객체를 문자열로 변환하여 출력 [object Object]\n        state.items = res.data;\n      });\n    };\n    load(); //컴포넌트가 생성될 때 한번만 실행\n\n    const remove = itemId => {\n      axios.delete(`/api/cart/items/${itemId}`).then(() => {\n        load();\n        console.log(\"장바구니에서 삭제 성공:\", itemId);\n      });\n    };\n    return {\n      state,\n      lib,\n      remove\n    };\n  }\n};","map":{"version":3,"names":["axios","lib","reactive","setup","state","items","load","get","then","res","console","log","data","remove","itemId","delete"],"sources":["E:\\Program Study\\Vue3\\Vue3-GalleryMall-V1\\src\\pages\\Cart.vue"],"sourcesContent":["<template>\r\n    <div class=\"cart\">\r\n      <div class=\"container\">\r\n        <ul>\r\n          <li v-for=\"(item, index) in state.items\" :key=\"index\"  class=\"d-flex align-items-center\">\r\n            <img :src=\"item.imgPath\"  class=\"me-3\" style=\"cursor: pointer;\" />\r\n            <span class=\"name\">제목:{{ item.name }}</span>\r\n            <span class=\"price ms-3\"> 할인가:₩{{ lib.getCommaFormated(item.price -(item.price*item.discountPrice/100)) }}</span>\r\n            <i class=\"fa fa-trash ms-auto text-danger fs-6\" style=\"cursor: pointer;\" @click=\"remove(item.id)\"> 삭제</i>  <!-- 쓰레기통 모양 -->\r\n          </li>\r\n        </ul>\r\n        <router-link to=\"/order\" class=\"btn btn-primary\">구입하기</router-link>\r\n        <!-- 클릭하면 /order로 이동 -->\r\n      </div>\r\n     </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport lib from \"@/scripts/lib\";\r\nimport { reactive } from 'vue';\r\n\r\nexport default{\r\n    setup(){\r\n      const state=reactive({\r\n          items:[]\r\n      });\r\n\r\n      const load=()=>{\r\n        axios.get(\"/api/cart/items\").then((res)=>{\r\n        console.log(\"cart에서 꺼내보기:\", res.data);  //+를 시용하면 객체를 문자열로 변환하여 출력 [object Object]\r\n        state.items=res.data;\r\n       })\r\n      };\r\n\r\n      load(); //컴포넌트가 생성될 때 한번만 실행\r\n\r\n      const remove=(itemId)=>{\r\n        axios.delete(`/api/cart/items/${itemId}`).then(()=>{\r\n          load();\r\n          console.log(\"장바구니에서 삭제 성공:\", itemId);\r\n        })\r\n      };\r\n\r\n      return {state, lib, remove}\r\n    }\r\n} \r\n</script>\r\n\r\n<style scoped>\r\n.cart ul {\r\n  list-style:none;\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n\r\n.cart ul li{\r\n  border:1px solid #eee;\r\n  margin-top: 25px;\r\n  margin-bottom: 25px;\r\n}\r\n\r\n.cart ul li img {\r\n  width: 150px;\r\n  height: 150px;\r\n}\r\n\r\n.cart ul li .name{\r\n  margin-left: 25px;\r\n}\r\n\r\n.cart ul li .price {\r\n  margin-left: 25px;\r\n}\r\n\r\n.cart ul li i {\r\n  float: right;\r\n  font-size: 20px;\r\n  margin-right: 50px;\r\n  margin-top: 60;\r\n}\r\n\r\n.cart .btn{\r\n  width: 300px;\r\n  display: block;\r\n  margin: 0 auto;\r\n  padding:30px 50px;\r\n  font-size: 20px;\r\n}\r\n</style>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"mappings":"AAkBA,OAAOA,KAAI,MAAO,OAAO;AACzB,OAAOC,GAAE,MAAO,eAAe;AAC/B,SAASC,QAAO,QAAS,KAAK;AAE9B,eAAc;EACVC,KAAKA,CAAA,EAAE;IACL,MAAMC,KAAK,GAACF,QAAQ,CAAC;MACjBG,KAAK,EAAC;IACV,CAAC,CAAC;IAEF,MAAMC,IAAI,GAACA,CAAA,KAAI;MACbN,KAAK,CAACO,GAAG,CAAC,iBAAiB,CAAC,CAACC,IAAI,CAAEC,GAAG,IAAG;QACzCC,OAAO,CAACC,GAAG,CAAC,cAAc,EAAEF,GAAG,CAACG,IAAI,CAAC,EAAG;QACxCR,KAAK,CAACC,KAAK,GAACI,GAAG,CAACG,IAAI;MACrB,CAAC;IACF,CAAC;IAEDN,IAAI,CAAC,CAAC,EAAE;;IAER,MAAMO,MAAM,GAAEC,MAAM,IAAG;MACrBd,KAAK,CAACe,MAAM,CAAC,mBAAmBD,MAAM,EAAE,CAAC,CAACN,IAAI,CAAC,MAAI;QACjDF,IAAI,CAAC,CAAC;QACNI,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEG,MAAM,CAAC;MACtC,CAAC;IACH,CAAC;IAED,OAAO;MAACV,KAAK;MAAEH,GAAG;MAAEY;IAAM;EAC5B;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}